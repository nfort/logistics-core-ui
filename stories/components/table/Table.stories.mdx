import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
import { DefaultTable } from "../../../src";
import { Column, useFlexLayout, usePagination, useSortBy, useTable } from "react-table";
import { DefaultColumnFilter } from "../../../src/components/Table/components/ColumnFilters";
import { Button, DropMenu, Paragraph } from "@nfort/holism-ui";
import { LoadingContainer } from "../../../src";
import { Table } from "../../../src/components/Table/components/Table";
import { Pagination } from "../../../src/components/Table/components/Pagination";
import { Content } from "../../../src";
import { CustomTable } from "./CustomTable";

# Table

–¢–∞–±–ª–∏—Ü–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ö—É–∫–æ–≤ –∏–∑ react-table.
–ï—Å—Ç—å —Ç–∞–∫ –∂–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã DefaultTable, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–æ–π–¥–µ—Ç –≤–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö

–ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```jsx
import { Content, DefaultColumnFilter, LoadingContainer, Pagination, Table } from "../../../src";
```

<ArgsTable component={DefaultTable} />

<Meta title="components/Table" component={DefaultTable} />

<Canvas>
    <Story name="Default">
      <DefaultTable
          data={[
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                  {
                    name: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "js@mail.ru",
                    email: "–µ–µ–µ–µ–µ@mail.ru",
                  },
                  {
                    name: "–ü–µ—Ç—Ä–æ–≤ –°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤–∏—á",
                    login: "ts@mail.ru",
                    email: "ex@mail.ru",
                  },
                ]}
          columns={[
                     {
                       Header: "–§–ò–û",
                       accessor: "name",
                       Filter: DefaultColumnFilter,
                     },
                     {
                       Header: "–õ–æ–≥–∏–Ω",
                       accessor: "login",
                       Filter: DefaultColumnFilter,
                     },
                     {
                       Header: "Email",
                       accessor: "email",
                       Filter: DefaultColumnFilter,
                     },
                   ]}
          loading={false}
          reload={() => console.log("reload")}
          onRowClick={(row) => console.log(row)}
      />
    </Story>
</Canvas>

```jsx
import * as React from "react";
import { Column, useFlexLayout, usePagination, useSortBy, useTable } from "react-table";
import { Button, DropMenu, Paragraph } from "@holism/components";
import { Content, DefaultColumnFilter, LoadingContainer, Pagination, Table } from "../../../src";

const CustomTable = () => {
  const {
    getTableProps,
    getTableBodyProps,
    canNextPage,
    canPreviousPage,
    previousPage,
    nextPage,
    gotoPage,
    rows,
    pageCount,
    page,
    pageOptions,
    state,
    prepareRow,
    headerGroups,
  } = useTable(
    {
      data,
      columns,
    },
    useFlexLayout,
    useSortBy,
    usePagination,
    (hooks) => {
      hooks.visibleColumns.push((columns) => [
        ...columns,
        {
          accessor: "actions" as any,
          width: 50,
          Cell: () => {
            return (
              <DropMenu
                options={[
                  { label: "–û—Ç–∫–∞–∑", id: "cancel" },
                  { label: "–í –ø—Ä–æ—Ü–µ—Å—Å–µ", id: "in-progress" },
                  { label: "–ù–µ –ø–æ—Å—Ç—É–ø–∏–ª", id: "not-received" },
                  { label: "–ü–æ—Å—Ç—É–ø–∏–ª", id: "received" },
                  { label: "–ê–∫—Ç–∏–≤–∞—Ü–∏—è", id: "active" },
                ]}
                onClick={() => {}}
              >
                <Button dimension="xsmall" color="secondary" isWithIcon={true}>
                  ‚úèÔ∏è
                </Button>
              </DropMenu>
            );
          },
        },
      ]);
    }
  );
  return (
    <LoadingContainer loading={false}>
      <Content fillSpace={true} padding="0">
        <Content.Header>
          <Paragraph size={22} fontWeight="bold">
            –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
          </Paragraph>
          <Button dimension="small" isWithIcon={true} onClick={() => {}}>
            üåï<span>&nbsp;–î–æ–±–∞–≤–∏—Ç—å</span>
          </Button>
        </Content.Header>
        <div>
          <Table
            headerGroups={headerGroups}
            getTableProps={getTableProps}
            getTableBodyProps={getTableBodyProps}
            rows={rows}
            prepareRow={prepareRow}
          />
        </div>
        <Content.Footer>
          <Pagination
            canNextPage={canNextPage}
            page={page}
            previousPage={previousPage}
            nextPage={nextPage}
            canPreviousPage={canPreviousPage}
            gotoPage={gotoPage}
            pageIndex={state.pageIndex}
            pageOptions={pageOptions}
            pageCount={pageCount}
          />
        </Content.Footer>
      </Content>
    </LoadingContainer>
  );
};
```

<Canvas>
    <Story name="CustomTable">
      <CustomTable/>
    </Story>
</Canvas>

export const Component = () => <SyntaxHighlighter/>
